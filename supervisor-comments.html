<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Supervisor Comments</title>
    <!-- Link to external CSS file for styling -->
    <link rel="stylesheet" href="supervisor-comments.css">
    <script src="/socket.io/socket.io.js"></script>

</head>
<body>
    <!-- Navigation menu -->
    <nav>
        <ul>
            <li><a href="#projects">Projects</a></li>
            <li><a href="/supervisor-comments.html">Supervisor Comments</a></li>
            <li><a href="#profile">Profile</a></li> 
            <li><a href="/login.html" id="logout">Logout</a></li>
            <li><a href="/Upload-project.html">Upload Project</a></li> 
        </ul>
    </nav>
        
    <div class="container">
        <h2>Uploaded Projects</h2>
        <div id="projectsList"></div>
      </div>
    
      <script src="/socket.io/socket.io.js"></script>
      <script>
        const socket = io();
    
        // Function to fetch and display projects
        const fetchProjects = () => {
          fetch('/api/projects')
            .then(response => response.json())
            .then(projects => {
              const projectsList = document.getElementById('projectsList');
              projectsList.innerHTML = '';
              projects.forEach(project => {
                const projectElement = document.createElement('div');
                projectElement.classList.add('project');
                projectElement.innerHTML = `
                  <h3>${project.title}</h3>
                  <p><a href="${project.filePath}" download>Download Project</a></p>
                `;
                projectsList.appendChild(projectElement);
              });
            })
            .catch(error => console.error('Error fetching projects:', error));
        };
    
        // Fetch projects when the page loads
        window.onload = fetchProjects;
    
        // Listen for real-time updates
        socket.on('newProject', (project) => {
          fetchProjects(); // Re-fetch and update the projects list
        });
      </script>
    

    
    <script>
       // Function to handle logout
function logout() {
    window.location.href = "login.html";
}



// Add event listener to logout link
document.getElementById('logout').addEventListener('click', logout);

    </script>
</body>
</html>
